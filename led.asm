ORG 0

MAIN:
  CLR C
  MOV P3, #FFh
  RLC P3

SHIFT_LEFT:
  CALL DELAY
  RLC P3
  JNB P3.7, SHIFT_RIGHT
  JMP SHIFT_LEFT

SHIFT_RIGHT:
  CALL DELAY
  RRC P3
  JNB P3.0, SHIFT_LEFT
  JMP SHIFT_RIGHT
  
DELAY:
  MOV A, #250000
  DJNZ A, DELAY
  RET

END
